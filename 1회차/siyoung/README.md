### 도커와 관련된 기본적인 개념

- 컨테이너 기반의 오픈소스 가상화 플랫폼
    - **다양한 환경을 컨테이너로 추상화하고, 동일한 인터페이스를 제공해 프로그램의 배포 및 관리를 단순**하게 제공 - 컨테이너의 다양화
    - 컨테이너는 격리된 공간에서 `프로세스` 가 동작하는 기술

### 왜 도커를 사용하는가? 도커를 사용하면 어떤 것들이 편해지는가?

- 마이크로서비스와 Devops의 등장으로 인한 빠른 배포주기와 쪼개지는 많은 서버들
- 도커의 기본적인 구조 (도커 컨테이터의 구조, 도커 이미지의 구조, 도커 서버-클라이언트 구조, 컨테이너들의 라이프사이클)

### 기존 VM와 도커 사이의 OS관점에서 구조적 차이

- 기존의 가상화는 OS를 가상화 하는 방식(VMware, VirtualBox) → `편리할 순 있지만 무겁다(문제)`
    - 프로세스를 격리하는 형태로 변경 → 가볍고 빠르게 동작

### 도커 client-server 구조

- 일반적은 웹어플리케이션처럼, 클라이언트 서버구조를 따르고 있음
- 도커 클라이언트와 도커 데몬으로 나누어져 있고, 대부분의 작업은 도커 데몬에서 실행된다.
    - 도커 데몬 : 클라이언트 요청을 기다리고, 도커 프로세스들을 관리한다. 데몬은 다른 데몬과 통신하는 경우도 있음
    - 통신방법 → 유닉스 소켓을 사용(클라이언트와 통신할 때), TCP소켓 사용(원격)
    - docker info를 통해 확인

### 도커 이미지, Dockerfile

- 도커에서 가장 중요한 개념, 컨테이너와 함께 **이미지라는 개념**
    - **이미지는 컨테이너 실행에 필요한 파일과 설정값등을 포함하고 있는 것으로 상태값을 가지지 않고 변하지 않는다**. 컨테이너는 이미지를 실행한 상태라고 볼 수 있고 추가되거나 변하는 값은 컨테이너에 저장
    - 컨테이너에 영향을 받지 않고, 이미지로 컨테이너를 생성하는 기본 틀(클래스와 인스턴스)
- 도커 이미지는 컨테이너를 실행하기 위한 모든 정보를 가지고 있기 때문에, 파일에 특정 값이 추가되어 재 다운로드 하는 경우 매우 비효율적 → 이를 해결하기 위해 **레이어 방식을 적용**
    - 컨테이너 생성시에도, 해당 컨테이너 위에 읽기/쓰기 레이어 추가 생성
    - 변화된 레이어만 추가 다운로드 방식을 채택
- 도커파일
    - 이미지를 만들기 위한, 문서

#### 이미지 구조

```bash
docker inspect ## 컨테이너, 네트워크, 볼륨, 이미지 등의 모든 도커 단위의 정보 확인 명령어
```
    